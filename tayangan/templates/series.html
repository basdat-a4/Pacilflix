{% extends 'base.html' %} 

{% block meta %}
{% endblock meta %}

{% block content %}
<body>
    {% include "navbar-user.html" %}
    <div class="container mt-5">
        <h1>HALAMAN SERIES</h1>

        <!-- Judul Series -->
        <h2>Judul: {{ dataSeries.1 }}</h2>

        <!-- Daftar Episode -->
        <h3>Episode:</h3>
        {% for row in episode %}
            <ul>
                <li><a href="{% url 'tayangan:show_episode' id row.1 %}">{{ row.0 }}</a></li>
            </ul>
        {% endfor %}

        <!-- Tombol Aksi -->
        <div class="mb-3">
            <button type="button" class="btn btn-primary">Unduh Tayangan</button>
            <button type="button" class="btn btn-primary">Favorit Tayangan</button>
        </div>

        <!-- Informasi Series -->
        <div class="mb-3">
            <p>Total View: NOT YET</p>
            <p>Rating Rata-Rata: {{ avgRating.0 }} / 5.0</p>
            <p>Sinopsis: {{ dataSeries.1 }}</p>
            <p>Genre:</p>
            {% for row in genre %}
            <ul>
                <li>{{ row.0 }}</li>
            </ul>
            {% endfor %}
            <p>Asal Negara: {{ dataFilm.6 }}</p>
            <p>Pemain:</p>
            {% for row in pemain %}
            <ul>
                <li>{{ row.0 }}</li>
            </ul>
            {% endfor %}
            <p>Penulis Skenario:</p>
            {% for row in penulis %}
            <ul>
                <li>{{ row.0 }}</li>
            </ul>
            {% endfor %}
            <p>Sutradara: {{ sutradara.0 }}</p>
        </div>

        <!-- Bagian Ulasan -->
        <h2>BAGIAN ULASAN</h2>

        <!-- Input Deskripsi Ulasan -->
        <div class="mb-3">
            <input type="text" class="form-control" placeholder="Input untuk deskripsi ulasan" id="reviewDescriptionInput">
            <input type="number" class="form-control" placeholder="Rating (0-5)" id="reviewRatingInput" min="0" max="5" value="0">
            <button type="button" class="btn btn-primary" id="submitReviewButton">Submit</button>
        </div>

        <!-- Daftar Ulasan -->
        <ul id="reviewList">
            
        </ul>
    </div>
</body>

<script>
    document.getElementById('submitReviewButton').addEventListener('click', function () {
        // Get review description, rating, and username
        var reviewDescription = document.getElementById('reviewDescriptionInput').value;
        var reviewRating = document.getElementById('reviewRatingInput').value;
        var username = "John Doe"; // Example username\

        // Create a new list item element for the review
        var newReview = document.createElement('li');
        newReview.textContent = username + ": " + reviewDescription + ' - Rating: ' + reviewRating;

        // Append the new review to the review list
        document.getElementById('reviewList').appendChild(newReview);

        // Clear input fields after submission
        document.getElementById('reviewDescriptionInput').value = '';
        document.getElementById('reviewRatingInput').value = '0'; //default
    });
</script>
{% endblock content %}